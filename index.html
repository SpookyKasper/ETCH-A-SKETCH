<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Etch-a-sketch</title>
    <link rel="stylesheet" href="eas.css">
    <script src="eas.js"></script>
</head>
<body>
    
    <script>
        const inputButton = document.createElement('button');
        document.body.appendChild(inputButton);

        const container = document.createElement('div');
        container.setAttribute('id', 'mainContainer')
        document.body.appendChild(container);
        
        let baseNum = 16;
        const mainCont = document.querySelector('#mainContainer');
        mainCont.style.gridTemplateColumns = `repeat(${baseNum}, 1fr`;
        mainCont.style.gridTemplateRows = `repeat(${baseNum}, 1fr`;
        

        function createEls(el, num){
            for(i = 1; i <= num; i++){
                someDiv = document.createElement(el);
                someDiv.setAttribute('class', 'boxes');
                someDiv.setAttribute('id', 'box' + i);
                mainCont.appendChild(someDiv);
            }
        }

        createEls('div', baseNum ** 2);


        const divBoxes = document.querySelectorAll('.boxes');
        // divBoxes.forEach(element => {
        //     mainCont.removeChild(element);
        // });
        divBoxes.forEach(div => div.addEventListener('mouseover', colorDiv));
        const button = document.querySelector('button');

        button.addEventListener('click', (e) => {
            let oldBoxes = document.querySelectorAll('.boxes');
            oldBoxes.forEach(div => mainCont.removeChild(div));
            numberCR = prompt();
            mainCont.style.gridTemplateColumns = `repeat(${numberCR}, 1fr)`;
            mainCont.style.gridTemplateRows = `repeat(${numberCR}, 1fr)`;
            createEls('div', numberCR ** 2);    
        });
        

        function colorDiv(event) {
            this.classList.add('hovering');
        }
        
    </script>
</body>
</html>